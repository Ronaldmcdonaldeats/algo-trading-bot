# Master Configuration - Complete Trading Bot Setup
# This file configures all systems: journal, recovery, tuning, and options

[General]
strategy_name = RSI_Mean_Reversion
bot_mode = LIVE  # LIVE, PAPER, BACKTEST
log_level = INFO
timezone = US/Eastern

[Account]
starting_equity = 100000
max_drawdown = 0.20
max_daily_loss = 0.05
account_currency = USD

[Trade Journal]
enabled = true
db_path = trade_journal.db
auto_backup = true
backup_interval = 86400  # seconds

[Drawdown Recovery]
enabled = true
daily_loss_threshold = 0.05  # 5% daily loss triggers recovery
portfolio_loss_threshold = 0.20  # 20% portfolio loss triggers recovery

# Recovery Phases - Position sizing
recovery_phase_1_size = 0.30  # 30% of normal
recovery_phase_1_duration = 2  # days
recovery_phase_2_size = 0.50  # 50% of normal
recovery_phase_2_duration = 3  # days
recovery_phase_3_size = 0.80  # 80% of normal
recovery_phase_3_duration = 5  # days

# Max trades per day in recovery
recovery_phase_1_max_trades = 2
recovery_phase_1_max_trades = 5
recovery_phase_3_max_trades = 10

[Auto-Tuning]
enabled = true
tune_schedule = DAILY  # DAILY, WEEKLY, AFTER_N_TRADES
tuning_hour = 20  # Hour to run optimization (24h format)
num_evaluations = 30
stability_threshold = 0.95

# Parameter bounds for optimization
param_sma_fast_min = 10
param_sma_fast_max = 50
param_sma_slow_min = 50
param_sma_slow_max = 200
param_rsi_threshold_min = 20
param_rsi_threshold_max = 50
param_macd_fast_min = 8
param_macd_fast_max = 15
param_macd_slow_min = 20
param_macd_slow_max = 35

[Scoring]
# Composite scoring for auto-tuning
score_sharpe_weight = 0.40
score_return_weight = 0.20
score_max_dd_weight = 0.15
score_win_rate_weight = 0.15
score_profit_factor_weight = 0.10

[Options Strategies]
enabled = true
covered_call_enabled = true
covered_call_strike_offset = 0.05  # 5% above current price
protective_put_enabled = true
bull_call_spread_enabled = true
collar_enabled = true

# Income strategy settings
min_covered_call_premium = 0.50
min_annual_yield = 0.05  # 5%

[Risk Management]
max_position_size = 0.10  # 10% of portfolio per trade
max_open_positions = 5
use_stop_loss = true
stop_loss_percent = 0.02  # 2%
use_take_profit = true
take_profit_percent = 0.05  # 5%

[Backtesting]
backtest_start_date = 2023-01-01
backtest_end_date = 2024-01-01
backtest_interval = 1D  # 1D, 1H, 15M, 5M
backtest_slippage = 0.001  # 0.1%
backtest_commission = 0.001  # 0.1%

[Notifications]
enabled = true
notify_on_trade = true
notify_on_recovery = true
notify_on_optimization = true
email_enabled = false
slack_enabled = false

[Data]
data_provider = YAHOO  # YAHOO, ALPACA, IB
cache_enabled = true
cache_ttl = 3600  # seconds

[Advanced]
walk_forward_analysis = true
monte_carlo_simulations = 1000
bootstrap_resampling = true
use_gpu = false
parallel_optimization = true
num_workers = 4
